@isTest
global with sharing class SCEndosoEmisionPostMockSuccess implements HttpCalloutMock {
    global HTTPResponse respond(HTTPRequest req) {
        HttpResponse res = new HttpResponse();
        //TODO el body siguiente habría que reemplazarlo por una response 200 REAL sin errores
        res.setBody('{"Response":null,"HasError":true,"HasWarning":false,"HasInformation":false,"Messages":[{"NombreServicio":"","VersionServicio":"","Description":"Error durante la emisión","MessageBeautiful":"Error al obtener datos de la poliza. No se pudo encontrar un policy period con un jobNumber 01-05-01773108 y un branchNumber 1224374","StackTrace":"   at B2BApp.Models.IssueSubmission.IssueSubmissionBase.GetPolicyInfo(String policyPreiod, String jobNumber, Nullable`1 branchNumber) in C:\\agent-win10\\_work\\61\\s\\src\\Models\\IssueSubmission\\IssueSubmissionBase.cs:line 158\r\n   at B2BApp.Models.IssueSubmission.IssueSubmissionCA7CommAuto.<Issue>d__4.MoveNext() in C:\\agent-win10\\_work\\61\\s\\src\\Models\\IssueSubmission\\IssueSubmissionCA7CommAuto\\IssueSubmissionCA7CommAuto.cs:line 51\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at B2BApp.Models.IssueSubmission.IssueSubmissionManager.<Issue>d__27.MoveNext() in C:\\agent-win10\\_work\\61\\s\\src\\Models\\IssueSubmission\\IssueSubmissionManager.cs:line 301\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at B2BApp.Controllers.IssueSubmissionController.<Post>d__4.MoveNext() in C:\\agent-win10\\_work\\61\\s\\src\\Controllers\\IssueSubmissionController.cs:line 63","ErrorLevel":2}]}');
        res.setStatusCode(200);
        return res;
    }
}